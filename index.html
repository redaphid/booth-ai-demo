<!DOCTYPE html>
<html>

<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="styles/main.css" type="text/css" rel="stylesheet">
  <script type="module">
    import { marked } from 'https://cdn.jsdelivr.net/npm/marked/lib/marked.esm.js'
    import { h, render } from 'https://esm.sh/preact'
    import htm from 'https://esm.sh/htm'
    const Products = ({ products }) => {
      return html`
        <div class="products">
          ${products.map(product => html`
            <${Product} product=${product}/>
          `)}
        </div>
      `
    }
    const Product = ({ product }) => {
      console.log(product)
      return html`
        <div class="product">
          <h2>${product.product_name}</h2>
          ${product.image_urls[0]}
          <img src=${product.image_urls[0]} alt=${product.product_name}/>
        </div>
      `
    }
    const App = ({ title,products }) => {
      return html`
        <div class="app">
          <h1>${title}</h1>
          <${Products} products=${products}/>
        </div>
      `
    }
    const res = await fetch('data/inventory.json').then(res => res.json())

    const html = htm.bind(h)
    render(html`<${App} title="HI" products=${res}/>`, document.body)
    </script>

</head>

<body></body>

</html>
